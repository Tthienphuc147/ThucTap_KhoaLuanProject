
<div class="card">
    <div class="card-header m_color_primary">
        <div class="col-lg-12 text-center d-flex justify-content-between">
            <span class="page-header my_title font-weight-lighter ">CHI TIẾT HÓA ĐƠN NHẬP :
                {{madotnhap}}
            </span>
            <button class="btn btn-ghost-secondary" (click)="generatePdf()">In báo cáo</button>
        </div>
    </div>
    <button mat-icon-button [matMenuTriggerFor]="menu" class="text-white" style="position: absolute; right: 0px;">
        <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="onExpand()">
            <span *ngIf="!expand">
                <i class="fas fa-expand-arrows-alt "></i> Mở rộng
            </span>
            <span *ngIf="expand">
                <i class="fas fa-compress-arrows-alt"></i> Thu gọn
            </span>
        </button>
    </mat-menu>
    <div class="card-body p-0 overflow-auto">
        <mat-progress-bar *ngIf="isLoading" mode="indeterminate" class="example-tree-progress-bar">
        </mat-progress-bar>
        <table mat-table *ngIf="dataSource"  [dataSource]="dataSource" class="w-100" matSort [trackBy]="trackByFn">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                <td mat-cell *matCellDef="let item; let i =index"> {{i+1}} </td>
            </ng-container>
            <ng-container matColumnDef="SoLuong">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Số lượng</th>
                <td mat-cell *matCellDef="let item, let i = index" class="px-2">
                    {{item.SoLuong}}
                </td>
            </ng-container>
            <ng-container matColumnDef="GiaNhap">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Giá nhập</th>
                <td mat-cell *matCellDef="let item, let i = index" class="px-2">
                    <span
                        class="text-danger font-weight-bold">{{item.GiaNhap | currency:'VND':'symbol'}} </span>
                </td>
            </ng-container>
            <ng-container matColumnDef="GiaBan">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Giá bán</th>
                <td mat-cell *matCellDef="let item, let i = index" class="px-2">
                    <span
                        class="text-success font-weight-bold">{{item.GiaBan |  currency:'VND':'symbol'}}
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="idSanPham">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Sản phẩm </th>
                <td mat-cell *matCellDef="let item, let i = index" class="px-2">
                    <span >{{item.TenSanPham}} </span>
                </td>
            </ng-container>
            <ng-container matColumnDef="created_at">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Created_at </th>
                <td mat-cell *matCellDef="let item"> {{item.created_at}} </td>
            </ng-container>
            <ng-container matColumnDef="updated_at">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Updated_at </th>
                <td mat-cell *matCellDef="let item"> {{item.updated_at}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10, 20,50] " showFirstLastButtons></mat-paginator>
    </div>
</div>
