<form [formGroup]="frm" (ngSubmit)="onSubmitForm()">
    <div class="overflow-auto" style="max-height: 95%">
        <div class="d-flex flex-wrap px-1 py-3">
            <div class="form-group col-md-6  ">
                <div class="d-flex flex-row justify-content-between ">
                    <label>Nhà sản xuất</label>
                    <span [ngClass]="onValidatorTextColor('idNSX')" [innerHTML]="onValidator('idNSX')"></span>
                </div>

                <mat-select formControlName="idNSX" class="form-control  ">
                    <ng-container *ngIf="nhasanxuats">
                        <mat-option *ngFor="let item of nhasanxuats" [value]="item.id">
                            {{item.Ten}}
                        </mat-option>
                    </ng-container>
                </mat-select>
            </div>
            <div class="form-group col-md-6  ">
                <div class="d-flex flex-row justify-content-between ">
                    <label>Danh mục</label>
                    <span [ngClass]="onValidatorTextColor('idDanhMuc')" [innerHTML]="onValidator('idDanhMuc')"></span>
                </div>

                <mat-select formControlName="idDanhMuc" class="form-control ">
                    <ng-container *ngIf="danhmucs">
                        <mat-option *ngFor="let danhmuc of danhmucs" [value]="danhmuc.id">
                            {{danhmuc.Ten}}
                        </mat-option>
                    </ng-container>
                </mat-select>
            </div>
            <div class="form-group col-md-6  ">
                <div class="d-flex flex-row justify-content-between ">
                    <label>Tên:</label>
                    <span [ngClass]="onValidatorTextColor('TenSanPham')" [innerHTML]="onValidator('TenSanPham')"></span>
                </div>
                <input class="form-control" [ngClass]="onValidatorBorderColor('TenSanPham')" placeholder="Nhập ..."
                    formControlName="TenSanPham" />
            </div>
            <div class="form-group col-md-6  ">
                <div class="d-flex flex-row justify-content-between">
                    <label>Hình:</label>
                    <span [ngClass]="onValidatorTextColor('Hinh')" [innerHTML]="onValidator('Hinh',true)"></span>
                </div>
                <div class="d-flex flex-row input-group">
                    <input type="text" class="form-control" name='avatar' [value]='filename' readonly>
                    <input (change)="onFileChange($event)" type='file' [hidden]='true' class="form-control"
                        placeholder="Nhập tên nhà cung cấp " #file />
                    <div class="input-group-append">
                        <button type="button" (click)="file.click()" class="btn btn-primary">Choose...</button>
                    </div>
                </div>
            </div>
            <div class="form-group col-12">
                <div class="d-flex flex-row justify-content-between">
                    <label>Mô tả:</label>
                    <span [ngClass]="onValidatorTextColor('MoTa')" [innerHTML]="onValidator('MoTa')"></span>
                </div>
                <ckeditor name="myckeditor" formControlName="MoTa" [config]="ckeConfig" debounce="500">
                </ckeditor>

            </div>
            <div class="form-group col-12">
                <div class="d-flex flex-row justify-content-between">
                    <label>Thông tin:</label>
                    <span [ngClass]="onValidatorTextColor('ThongTin')" [innerHTML]="onValidator('ThongTin')"></span>
                </div>
                <ckeditor formControlName="ThongTin" name="myckeditor" [config]="ckeConfig" debounce="500">
                </ckeditor>

            </div>
        </div>
    </div>
    <div style="position: sticky;bottom: 0 ;z-index: 99;" class="text-right px-1">
        <div class="col bg-white py-2">
            <button type="submit" (click)="onSubmitForm()" [disabled]="frm.invalid || is_loading" mat-flat-button
                color="warn" class="mr-2">
                <div class="d-flex justify-content-center position-relative">
                    <div class="spinner-border text-muted position-absolute" *ngIf="is_loading"></div>
                    <span> Cập nhật</span>
                </div>
            </button>
            <button type="button" (click)="onBack()" mat-stroked-button color="basic">Thoát</button>
        </div>
    </div>
</form>